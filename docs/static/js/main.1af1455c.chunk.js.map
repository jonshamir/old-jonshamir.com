{"version":3,"sources":["components/JonLogo/JonLogo.js","components/FloatingLogo/FloatingLogo.js","components/DarkModeToggle/useColorTheme.js","components/DarkModeToggle/DarkModeToggle.js","components/SocialLinks/SocialLinks.js","components/ScrollToTopOnMount/ScrollToTopOnMount.js","projects/ProjectPage.js","components/Button/Button.js","components/Image/Image.js","projects/Muser.js","projects/HerbTree.js","projects/UnityCG.js","components/VideoEmbed/VideoEmbed.js","components/OutLink/OutLink.js","projects/projectData.js","projects/Scopus.js","projects/LeafMap.js","Homepage/IntroSection/IntroSection.js","Homepage/ProjectSection/ProjectSection.js","components/FluidSim/modules/Common.js","components/FluidSim/modules/Mouse.js","components/FluidSim/modules/glsl/sim/face.vert","components/FluidSim/modules/glsl/sim/advection.frag","components/FluidSim/modules/ShaderPass.js","components/FluidSim/modules/Advection.js","components/FluidSim/modules/glsl/sim/line.vert","components/FluidSim/modules/ExternalForce.js","components/FluidSim/modules/glsl/sim/mouse.vert","components/FluidSim/modules/glsl/sim/externalForce.frag","components/FluidSim/modules/Viscous.js","components/FluidSim/modules/glsl/sim/viscous.frag","components/FluidSim/modules/Divergence.js","components/FluidSim/modules/glsl/sim/divergence.frag","components/FluidSim/modules/Poisson.js","components/FluidSim/modules/glsl/sim/poisson.frag","components/FluidSim/modules/Pressure.js","components/FluidSim/modules/glsl/sim/pressure.frag","components/FluidSim/modules/Simulation.js","components/FluidSim/modules/Output.js","components/FluidSim/modules/glsl/sim/grid.frag","components/FluidSim/modules/WebGL.js","components/FluidSim/FluidSim.js","Homepage/Homepage.js","App.js","reportWebVitals.js","index.js"],"names":["JonLogo","React","Component","constructor","props","super","this","state","render","isVisible","_jsx","className","children","_jsxs","defaultProps","onClick","FloatingLogo","updateInlinePos","inlineLogoEl","document","getElementById","x","getBoundingClientRect","y","offsetTop","setState","inlinePos","getInlinePos","offsetLeft","handleScroll","currScroll","body","scrollTop","documentElement","isMinimized","isLoaded","isHomepage","history","location","pathname","componentDidMount","window","addEventListener","setTimeout","listen","action","event","preventDefault","styles","transform","concat","Link","bind","to","style","withRouter","useColorThemeState","createPersistedState","useColorTheme","systemPrefersDark","useMediaQuery","query","undefined","isDark","setIsDark","value","useMemo","useEffect","favicon","querySelector","classList","add","href","remove","DarkModeToggle","htmlFor","id","type","checked","onChange","_ref","target","SocialLinks","rel","src","alt","ScrollToTopOnMount","scrollTo","ProjectPage","motion","div","initial","opacity","animate","exit","transition","duration","Nav","Image","ratio","rest","hasImageLoaded","setHasImageLoaded","useState","AspectRatio","onLoad","ProjectMuser","backgroundColor","Button","HerbTree","ProjectCG","slides","n","Array","from","length","_","index","map","i","ReactPlayer","url","config","file","attributes","poster","disableRemotePlayback","playing","loop","width","Carousel","showThumbs","showStatus","showIndicators","emulateTouch","infiniteLoop","autoPlay","renderArrowPrev","clickHandler","renderArrowNext","VideoEmbed","height","videoId","title","frameBorder","allow","allowFullScreen","OutLink","projectData","slug","name","subtitle","component","color","Muser","UnityCG","IntroSection","ProjectSection","project","aspect","isMobile","breakpoint","fboWidth","fboHeight","resizeFunc","resize","time","delta","init","pixelRatio","devicePixelRatio","renderer","THREE","alpha","autoClear","setSize","setPixelRatio","clock","start","innerWidth","innerHeight","update","getDelta","mouseMoved","coords","coords_old","diff","timer","count","onDocumentMouseMove","onDocumentTouchStart","onDocumentTouchMove","setCoords","clearTimeout","set","Common","pageX","pageY","touches","subVectors","copy","ShaderPass","_this$props$material","uniforms","material","scene","camera","geometry","plane","setRenderTarget","output","Advection","simProps","vertexShader","face_vert","fragmentShader","advection_frag","boundarySpace","cellScale","px","fboSize","velocity","texture","dt","isBFECC","dst","createBoundary","boundaryG","vertices_boundary","Float32Array","setAttribute","boundaryM","line","isBounce","BFECC","visible","ExternalForce","mouseG","mouseM","blending","force","center","scale","cursor_size","mouse","forceX","Mouse","mouse_force","forceY","centerX","centerY","Viscous","velocity_new","dst_","v","viscous","output0","output1","fbo_in","fbo_out","iterations","Divergence","vel","pressure","divergence","p_in","p_out","src_p","src_v","Simulation","fbos","vel_0","vel_1","vel_viscous0","vel_viscous1","pressure_0","pressure_1","options","iterations_poisson","iterations_viscous","resolution","isViscous","calcSize","createAllFBO","createShaderPass","test","navigator","userAgent","key","advection","externalForce","poisson","Poisson","Pressure","Math","round","px_x","px_y","Output","simulation","transparent","extensions","derivatives","darkTheme","addScene","mesh","Webgl","$wrapper","prepend","domElement","requestAnimationFrame","setDarkTheme","needsUpdate","container","webglMng","FluidSim","canvasRef","useRef","didInit","setDidInit","initScene","current","WebGL","ref","Homepage","setScrollTop","onAnimationComplete","definition","posthog","api_host","App","useLocation","scrollRestoration","projectPaths","Route","path","AnimatePresence","exitBeforeEnter","Switch","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","basename","process"],"mappings":"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","file":"static/js/main.1af1455c.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./JonLogo.scss\";\n\nclass JonLogo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { isVisible } = this.props;\n    return (\n      <div className={isVisible ? \"logo-container visible\" : \"logo-container\"}>\n        <div className={isVisible ? \"rotate\" : \"\"}>\n          <div className=\"logo\">\n            <div className=\"top\">\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n            </div>\n            <div className=\"bottom\">\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n            </div>\n            <div className=\"middle\">\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n            </div>\n            <div className=\"side\">\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n              <div className=\"face\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nJonLogo.defaultProps = {\n  onClick: () => {},\n};\n\nexport default JonLogo;\n","import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\n\nimport JonLogo from \"../JonLogo/JonLogo\";\n\nimport \"./FloatingLogo.scss\";\n\nclass FloatingLogo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      isMinimized: false,\n      inlinePos: [0, 0],\n      isHomepage: props.history.location.pathname === \"/\",\n    };\n    this.inlineLogoEl = null;\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", () => this.updateInlinePos());\n    window.addEventListener(\"scroll\", this.handleScroll);\n    this.updateInlinePos();\n    setTimeout(() => {\n      this.setState({ isLoaded: true });\n    }, 500);\n\n    this.props.history.listen((location, action) => {\n      this.setState({\n        isHomepage: false,\n      });\n      if (location.pathname === \"/\") {\n        setTimeout(() => {\n          this.setState({\n            isHomepage: true,\n          });\n        }, 300);\n      }\n    });\n  }\n\n  updateInlinePos = () => {\n    this.inlineLogoEl = document.getElementById(\"logoInlinePos\");\n    if (this.inlineLogoEl) {\n      const x = this.inlineLogoEl.getBoundingClientRect().x;\n      const y = this.inlineLogoEl.offsetTop;\n      this.setState({ inlinePos: [x - 30, y - 180] });\n    }\n  };\n\n  getInlinePos = () => {\n    const { inlinePos } = this.state;\n    if (inlinePos[0] !== 0 && inlinePos[1] !== 0)\n      return { x: inlinePos[0], y: inlinePos[1] };\n\n    // const { x, y } = this.inlineLogoRef.current.getBoundingClientRect();\n    this.inlineLogoEl = document.getElementById(\"logoInlinePos\"); // TODO large screens\n    let x = 0,\n      y = 0;\n    if (this.inlineLogoEl) {\n      x = this.inlineLogoEl.offsetLeft - 30;\n      y = this.inlineLogoEl.offsetTop - 180;\n    }\n    return { x, y };\n  };\n\n  handleScroll = () => {\n    const currScroll =\n      document.body.scrollTop || document.documentElement.scrollTop;\n    const { isMinimized } = this.state;\n\n    if (currScroll < 10) {\n      this.setState({ isMinimized: false });\n    } else if (!isMinimized) {\n      this.setState({ isMinimized: true });\n    }\n  };\n\n  onClick(event) {\n    if (this.props.history.location.pathname === \"/\") {\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    const { isMinimized, isHomepage } = this.state;\n    const { x, y } = this.getInlinePos();\n    const logoTransform =\n      !isHomepage || (this.inlineLogoEl && isMinimized)\n        ? `scale(0.5)`\n        : `scale(1) translate(${x}px,${y}px)`;\n\n    const styles = {\n      transform: logoTransform,\n      // pointerEvents: isHomepage ? \"none\" : \"auto\",\n    };\n\n    return (\n      <Link\n        onClick={this.onClick.bind(this)}\n        to=\"/\"\n        className=\"FloatingLogo\"\n        style={styles}\n      >\n        <JonLogo isVisible={this.state.isLoaded} />\n      </Link>\n    );\n  }\n}\n\nexport default withRouter(FloatingLogo);\n","import { useEffect, useMemo } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport createPersistedState from \"use-persisted-state\";\n\nconst useColorThemeState = createPersistedState(\"colorTheme\");\n\nexport function useColorTheme() {\n  const systemPrefersDark = useMediaQuery(\n    {\n      query: \"(prefers-color-scheme: dark)\",\n    },\n    undefined\n  );\n\n  const [isDark, setIsDark] = useColorThemeState();\n  const value = useMemo(\n    () => (isDark === undefined ? !!systemPrefersDark : isDark),\n    [isDark, systemPrefersDark]\n  );\n\n  useEffect(() => {\n    const favicon = document.querySelector('link[rel=\"icon\"]');\n    if (value) {\n      document.body.classList.add(\"dark\");\n      favicon.href = \"/favicon-dark.png\";\n    } else {\n      document.body.classList.remove(\"dark\");\n      favicon.href = \"/favicon-light.png\";\n    }\n  }, [value]);\n\n  return {\n    isDark: value,\n    setIsDark,\n  };\n}\n","import React from \"react\";\nimport { useColorTheme } from \"./useColorTheme\";\n\nimport \"./DarkModeToggle.scss\";\n\nexport const DarkModeToggle = () => {\n  const { isDark, setIsDark } = useColorTheme();\n  return (\n    <label htmlFor=\"DarkModeToggle\" className=\"DarkModeToggle\">\n      <input\n        id=\"DarkModeToggle\"\n        type=\"checkbox\"\n        checked={isDark}\n        onChange={({ target }) => setIsDark(target.checked)}\n        aria-label=\"Dark mode toggle\"\n      />\n    </label>\n  );\n};\n","import React from \"react\";\nimport { DarkModeToggle } from \"../DarkModeToggle/DarkModeToggle\";\nimport { useColorTheme } from \"../DarkModeToggle/useColorTheme\";\n\nimport \"./SocialLinks.scss\";\n\nconst SocialLinks = () => {\n  const { isDark } = useColorTheme();\n  return (\n    <div className=\"SocialLinks\">\n      <span className=\"item\">\n        <span>{isDark ? \"Light\" : \"Dark\"} Mode</span>\n        <DarkModeToggle />\n      </span>\n      <a\n        className=\"item\"\n        key=\"instagram\"\n        href=\"https://www.instagram.com/yonshamir/\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <span>Instagram</span>\n        <img src=\"./assets/ui/instagram.svg\" alt=\"\" />\n      </a>\n      <a\n        className=\"item\"\n        key=\"github\"\n        href=\"https://github.com/jonshamir\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <span>GitHub</span>\n        <img src=\"./assets/ui/github.svg\" alt=\"\" />\n      </a>\n      <a\n        className=\"item\"\n        key=\"twitter\"\n        href=\"https://www.twitter.com/jonshamir/\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <span>Twitter</span>\n        <img src=\"./assets/ui/twitterx.svg\" alt=\"\" />\n      </a>\n      <a\n        className=\"item\"\n        key=\"linkedin\"\n        href=\"https://www.linkedin.com/in/jonshamir/\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <span>LinkedIn</span>\n        <img src=\"./assets/ui/linkedin.svg\" alt=\"\" />\n      </a>\n      {/* <a key=\"resume\" href=\"resume.pdf\" target=\"_blank\" rel=\"noreferrer\">\n        <span>Resume</span>\n        <img src=\"./assets/ui/resume.svg\" alt=\"\" />\n      </a> */}\n    </div>\n  );\n};\n\nexport default SocialLinks;\n","import React from \"react\";\n\nclass ScrollToTopOnMount extends React.Component {\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default ScrollToTopOnMount;\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\nimport ScrollToTopOnMount from \"../components/ScrollToTopOnMount/ScrollToTopOnMount\";\n\nimport \"./ProjectPage.scss\";\n\nconst ProjectPage = (props) => {\n  return (\n    <motion.div\n      className=\"ProjectPage Page\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      transition={{ duration: 0.2 }}\n    >\n      <ScrollToTopOnMount />\n      {props.children}\n    </motion.div>\n  );\n};\n\nexport default ProjectPage;\n","import React from \"react\";\n\nimport \"./Button.scss\";\n\nconst Nav = (props) => {\n  return <button className=\"Button\">{props.children}</button>;\n};\n\nexport default Nav;\n","import React, { useState } from \"react\";\nimport { AspectRatio } from \"react-aspect-ratio\";\nimport \"react-aspect-ratio/aspect-ratio.css\";\n\nimport \"./Image.scss\";\n\nconst Image = ({ alt, ratio = 1, style = {}, className = \"\", ...rest }) => {\n  const [hasImageLoaded, setHasImageLoaded] = useState(false);\n\n  const onImageLoaded = (event) => {\n    setHasImageLoaded(true);\n  };\n\n  return (\n    <AspectRatio\n      className={\"imageWrapper \" + className}\n      ratio={ratio}\n      style={style}\n    >\n      <img\n        {...rest}\n        onLoad={onImageLoaded}\n        className={hasImageLoaded ? \"image loaded\" : \"image\"}\n        alt={alt}\n      />\n    </AspectRatio>\n  );\n};\n\nexport default Image;\n","import React from \"react\";\nimport ProjectPage from \"./ProjectPage\";\n\nimport Button from \"../components/Button/Button\";\nimport Image from \"../components/Image/Image\";\n\nconst ProjectMuser = (props) => {\n  return (\n    <ProjectPage>\n      <Image\n        ratio=\"2\"\n        src=\"assets/projects/muser/screenshot.png\"\n        alt=\"Muser Screenshot\"\n        className=\"Screenshot\"\n        style={{ backgroundColor: \"#455d63\" }}\n      />\n      <div className=\"section\">\n        <a\n          href=\"https://jonshamir.github.io/muser\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <Button>\n            <span>Launch Project →</span>\n          </Button>\n        </a>\n        <h1>Muser</h1>\n        <p className=\"subtitle\">Smart music visualizer</p>\n        <p>\n          Muser is an experiment to see how machine learning technology can be\n          used to enhance music visualization. The idea originated while writing\n          a seminar paper on the history of music visualization. I researched,\n          designed and implemented the project from start to finish.\n        </p>\n        <p>\n          A pre-trained neural network called{\" \"}\n          <a\n            href=\"https://github.com/jordipons/musicnn\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            musicnn\n          </a>{\" \"}\n          predicts the musical genre for each second of a song. The predictions\n          are then used to generate a color scheme. The final visualization\n          color palette is based on the 5 most-fitting genres.\n        </p>\n        <p>\n          We can use this to visualize how the style of a song changes over\n          time:\n        </p>\n        <p>\n          <span className=\"muserTimeline\" />\n          <strong>Love the Way You Lie</strong> / Eminem feat. Rihanna\n        </p>\n        <p>\n          For example, we can see that this classic song by Eminem and Rihanna\n          starts with an acoustic intro (bluish) then alternates between rap\n          (red) and pop (yellow) segments.\n        </p>\n        <p>For more information visit the project website!</p>\n        <br />\n        <figure>\n          <Image src=\"assets/projects/muser/kandinsky.jpg\" alt=\"kandinsky\" />\n          <span className=\"Caption\">\n            <span>Circles in a Circle </span>by Wassily Kandinsky, 1923\n          </span>\n        </figure>\n\n        <p>\n          Colors for each genre were chosen according to the{\" \"}\n          <a href=\"https://musicmap.info/\" target=\"_blank\" rel=\"noreferrer\">\n            Musicmap\n          </a>{\" \"}\n          project so that music genres which are stylistically closer will get\n          similar colors.\n        </p>\n        <p>\n          Muser is inspired by Wassily Kandinsky (1866-1944). Generally credited\n          as the pioneer of abstract art, his work is well-known for its musical\n          influences. Kandinsky associated specific tones and instruments to\n          shapes and colors, thus “visualizing” a musical composition.\n        </p>\n        <br />\n        <h2>Tools Used</h2>\n        <ul className=\"List\">\n          <li>JavaScript (React.js)</li>\n          <li>WebGL (THREE.js + GLSL)</li>\n          <li>Python</li>\n        </ul>\n      </div>\n      <img\n        src=\"assets/projects/muser/circles.png\"\n        alt=\"\"\n        className=\"muserCircles\"\n      />\n    </ProjectPage>\n  );\n};\n\nexport default ProjectMuser;\n","import React from \"react\";\nimport ProjectPage from \"./ProjectPage\";\n\nimport Button from \"../components/Button/Button\";\nimport Image from \"../components/Image/Image\";\n\nconst HerbTree = (props) => {\n  return (\n    <ProjectPage>\n      <Image\n        ratio=\"1.95\"\n        src=\"assets/projects/herbtree/screenshot.png\"\n        alt=\"Herb Tree screenshot\"\n        className=\"Screenshot\"\n        style={{ backgroundColor: \"#f6f2f1\" }}\n      />\n\n      <div className=\"section\">\n        <a href=\"http://herbtree.co.il\" target=\"_blank\" rel=\"noreferrer\">\n          <Button>\n            <span>Launch Project →</span>\n          </Button>\n        </a>\n        <h1>Herb Tree</h1>\n        <p className=\"subtitle\">Interactive botanic visualization</p>\n        <p>\n          An online index of culinary herbs, created as the final project for my\n          Visual Communication degree. The plants are organized according to\n          their scientific classification, creating a herbal “tree of life”.\n          Each herb contains a description as well as information about using it\n          in the kitchen. In addition to research, design and development, I\n          photographed dozens of plant specimens from the Hebrew University\n          Herbarium, which are incorporated into the project.\n        </p>\n        <p>Note that the site is currently available only in Hebrew.</p>\n        <figure>\n          <Image\n            src=\"assets/projects/herbtree/specimen.jpg\"\n            alt=\"Photographing a Specimen\"\n          />\n          <span className=\"Caption\">\n            Photographing a specimen for the project.\n          </span>\n        </figure>\n        <br />\n        <h2>Tools Used</h2>\n        <ul className=\"List\">\n          <li>JavaScript (d3.js + React.js)</li>\n          <li>Python</li>\n          <li>Photography</li>\n        </ul>\n      </div>\n    </ProjectPage>\n  );\n};\n\nexport default HerbTree;\n","import React from \"react\";\nimport ReactPlayer from \"react-player\";\nimport ProjectPage from \"./ProjectPage\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\n\nconst range = (n) => Array.from({ length: n }, (_, index) => index + 1);\n\nconst ProjectCG = (props) => {\n  const slides = range(9).map((i) => {\n    return (\n      <div key={i}>\n        <img src={`assets/projects/unitycg/slide${i}.png`} alt=\"Slide\" />\n      </div>\n    );\n  });\n\n  return (\n    <ProjectPage>\n      <div className=\"section\">\n        <div className=\"earth3d\">\n          <ReactPlayer\n            url=\"assets/projects/unitycg/cube.mp4\"\n            config={{\n              file: {\n                attributes: {\n                  poster: \"assets/projects/unitycg/cube.jpg\",\n                  disableRemotePlayback: true,\n                },\n              },\n            }}\n            playing\n            loop\n            width=\"100%\"\n            attributes={{ disableRemotePlayback: true }}\n          />\n        </div>\n        <h1>Unity CG</h1>\n        <p className=\"subtitle\">Teaching Computer Graphics in Unity</p>\n        <p>\n          In 2019 I was given the opportunity to rebuild the practical side of\n          the Computer Graphics Course at{\" \"}\n          <a href=\"https://en.huji.ac.il/\" target=\"_blank\" rel=\"noreferrer\">\n            the Hebrew University\n          </a>{\" \"}\n          from the ground up. The goal was to teach Computer Graphics in a more\n          engaging way, using the real-time interactivity of the{\" \"}\n          <a href=\"https://unity.com/\" target=\"_blank\" rel=\"noreferrer\">\n            Unity game engine\n          </a>\n          .\n        </p>\n        <p>\n          Due to the emerging COVID-19 pandemic, the class had to be taught\n          remotely. In an attempt to improve the learning experience for the\n          students, I created 12 lectures with over 500 slides including custom\n          illustrations & animations that visualize different concepts.\n        </p>\n        <div className=\"slideContainer\">\n          <Carousel\n            showThumbs={false}\n            showStatus={false}\n            showIndicators={false}\n            emulateTouch\n            infiniteLoop\n            autoPlay\n            renderArrowPrev={(clickHandler) => (\n              <div onClick={clickHandler} className=\"CarouselArrow left\">\n                {\"<\"}\n              </div>\n            )}\n            renderArrowNext={(clickHandler) => (\n              <div onClick={clickHandler} className=\"CarouselArrow right\">\n                {\">\"}\n              </div>\n            )}\n          >\n            {slides}\n          </Carousel>\n          <span className=\"Caption\">\n            Some of the slides I created for the course\n          </span>\n        </div>\n        <br />\n        <p>\n          I also created 5 coding exercises involving subjects such as\n          Subdivision Surfaces, Ray-Tracing, Shading, Texturing and more. I\n          taught the students remotely and graded their assignments.\n        </p>\n\n        <div className=\"earth3d torus\">\n          <ReactPlayer\n            url=\"assets/projects/unitycg/torus.mp4\"\n            config={{\n              file: {\n                attributes: {\n                  poster: \"assets/projects/unitycg/torus.jpg\",\n                  disableRemotePlayback: true,\n                },\n              },\n            }}\n            playing\n            loop\n            width=\"100%\"\n          />\n        </div>\n        <br />\n        <br />\n        <br />\n        <h2>Tools Used</h2>\n        <ul className=\"List\">\n          <li>Unity3D + C#</li>\n          <li>HLSL (shading language)</li>\n          <li>Adobe CC</li>\n          <li>Google Slides</li>\n        </ul>\n      </div>\n    </ProjectPage>\n  );\n};\n\nexport default ProjectCG;\n","import React from \"react\";\n\nimport \"./VideoEmbed.scss\";\n\nconst VideoEmbed = (props) => {\n  return (\n    <div className=\"VideoEmbed\">\n      <iframe\n        width=\"100%\"\n        height=\"315\"\n        src={`https://www.youtube.com/embed/${props.videoId}?`}\n        title=\"YouTube video player\"\n        frameBorder=\"0\"\n        allow=\"modestbranding; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n      ></iframe>\n    </div>\n  );\n};\n\nexport default VideoEmbed;\n","import React from \"react\";\n\nconst OutLink = ({ href, children, ...rest }) => {\n  return (\n    <a href={href} target=\"_blank\" rel=\"noreferrer\">\n      {children}\n    </a>\n  );\n};\n\nexport default OutLink;\n","import Muser from \"./Muser\";\nimport HerbTree from \"./HerbTree\";\nimport UnityCG from \"./UnityCG\";\nimport Scopus from \"./Scopus\";\nimport LeafMap from \"./LeafMap\";\n\n// import Cavorite from \"./Cavorite\";\n// import TelAviv from \"./TelAviv\";\n// import GenerativeLeaves from \"./GenerativeLeaves\";\n// import GrowthPatterns from \"./GrowthPatterns\";\n\nconst projectData = [\n  {\n    slug: \"herbtree\",\n    name: \"Herb Tree\",\n    subtitle: \"2023 | Interactive botanic visualization\",\n    component: HerbTree,\n    color: \"#e7e1e1\",\n  },\n  {\n    slug: \"muser\",\n    name: \"Muser\",\n    subtitle: \"2021 | Smart music visualizer\",\n    component: Muser,\n    color: \"#648887\",\n  },\n  {\n    slug: \"unitycg\",\n    name: \"Unity CG\",\n    subtitle: \"2020-2023 | Computer graphics course in Unity\",\n    component: UnityCG,\n    color: \"#8595a8\",\n  },\n  {\n    slug: \"scopus\",\n    name: \"Scopus\",\n    subtitle: \"2019 | Short 3D animation\",\n    component: Scopus,\n    color: \"#a1a1a1\",\n  },\n  {\n    slug: \"leaf-map\",\n    name: \"Leaf Map\",\n    subtitle: \"2018 | Interactive map of leaf shapes\",\n    component: LeafMap,\n    color: \"#f8f3ef\",\n  },\n  // {\n  //   slug: \"cavorite\",\n  //   name: \"Cavorite\",\n  //   subtitle: \"Short 2D animation\",\n  //   component: Cavorite,\n  //   color: \"#265a90\",\n  // },\n  // {\n  //   slug: \"tel-aviv\",\n  //   name: \"Tel Aviv\",\n  //   subtitle: \"Watercolor studies of Tel Aviv\",\n  //   component: TelAviv,\n  //   color: \"#d1c0c4\",\n  // },\n  // {\n  //   slug: \"growth-patterns\",\n  //   name: \"Growth Patterns\",\n  //   subtitle: \"Population density visualization\",\n  //   component: GrowthPatterns,\n  //   color: \"#9d929c\",\n  // },\n  // {\n  //   slug: \"generative-leaves\",\n  //   name: \"Generative Leaves\",\n  //   subtitle: \"Screenprints of generative leaf shapes\",\n  //   component: GenerativeLeaves,\n  //   color: \"#8d7754\",\n  // },\n];\n\nexport default projectData;\n","import React from \"react\";\nimport ProjectPage from \"./ProjectPage\";\nimport VideoEmbed from \"../components/VideoEmbed/VideoEmbed\";\n\nconst Scopus = (props) => {\n  return (\n    <ProjectPage>\n      <div className=\"section\">\n        <h1>Scopus</h1>\n        <p className=\"subtitle\">Short 3D animation</p>\n        <p>\n          Mount Scopus and its brutalist architecture can be seen from\n          practically anywhere in Jerusalem - clashing with the city's ancient\n          architecture. I decided it might be used as a spaceship...\n        </p>\n        <p>Modeled & rendered using Cinema4D.</p>\n        <br />\n        <VideoEmbed videoId=\"7KkArk0uCDQ\" />\n        <p>\n          <br />\n        </p>\n      </div>\n    </ProjectPage>\n  );\n};\n\nexport default Scopus;\n","import React from \"react\";\nimport ProjectPage from \"./ProjectPage\";\n\nimport Button from \"../components/Button/Button\";\nimport Image from \"../components/Image/Image\";\nimport OutLink from \"../components/OutLink/OutLink\";\n\nconst LeafMap = (props) => {\n  return (\n    <ProjectPage>\n      <Image\n        ratio=\"1.95\"\n        src=\"assets/projects/leaf-map/screenshot.png\"\n        alt=\"Leaf Map screenshot\"\n        className=\"Screenshot\"\n        style={{ backgroundColor: \"#f7f3ee\" }}\n      />\n      <div className=\"section\">\n        <a\n          href=\"https://jonshamir.github.io/leaf-map\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <Button>\n            <span>Launch Project →</span>\n          </Button>\n        </a>\n        <h1>Leaf Map</h1>\n        <p className=\"subtitle\">Interactive map of leaf shapes</p>\n        <p>\n          I used machine learning techniques to organize tree species according\n          to their leaf shape. The idea was to create a more intuitive and\n          friendly way to recognize plant species.\n        </p>\n        <img src=\"assets/projects/leaf-map/features.png\" alt=\"Leaf Features\" />\n        <p>\n          Using the{\" \"}\n          <OutLink href=\"https://en.wikipedia.org/wiki/Shape_context\">\n            Shape Context Algorithm\n          </OutLink>{\" \"}\n          I generated a \"fingerprint\" vector representing each leaf, which is\n          then used to asses the similarity of shapes. Finally the dimension of\n          this vector is reduced to 2D using PCA and{\" \"}\n          <OutLink href=\"https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding\">\n            t-SNE\n          </OutLink>\n          , and the leaves are displayed in an interactive interface I created\n          using D3.js.\n        </p>\n\n        <p>\n          The project was inspired by this{\" \"}\n          <OutLink href=\"http://fontmap.ideo.com/\">Font Map</OutLink>, all data\n          and images were taken from the{\" \"}\n          <OutLink href=\"http://leafsnap.com/dataset/\">\n            Leaf Snap dataset\n          </OutLink>\n          .\n        </p>\n        <br />\n        <h2>Tools Used</h2>\n        <ul className=\"List\">\n          <li>JavaScript (interface)</li>\n          <li>Python (data proccessing)</li>\n        </ul>\n      </div>\n    </ProjectPage>\n  );\n};\n\nexport default LeafMap;\n","import React from \"react\";\n\nimport \"./IntroSection.scss\";\n\nconst IntroSection = (props) => {\n  return (\n    <div className=\"IntroSection section\">\n      <div className=\"intro\">\n        <span id=\"logoInlinePos\"></span>\n        <h1>Hi, I'm Jon Shamir</h1>\n        <p>\n          I'm a designer & developer. My interests include computer graphics,\n          data visualization, web technologies and machine learning.\n        </p>\n        <p>Currently building spatial interactions at Sightful.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default IntroSection;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport projectData from \"../../projects/projectData.js\";\n\nimport Image from \"../../components/Image/Image\";\n\nimport \"./ProjectSection.scss\";\n\nconst ProjectSection = (props) => {\n  return (\n    <div className=\"ProjectSection section\">\n      <h2>Projects</h2>\n      <div className=\"projectTiles\">\n        {projectData.map((project) => (\n          <Link\n            to={`/projects/${project.slug}`}\n            className=\"ProjectTile\"\n            key={project.slug}\n          >\n            <Image\n              src={`assets/projects/${project.slug}/cover.jpg`}\n              alt={project.name}\n              style={{ backgroundColor: project.color }}\n            />\n            <div className=\"info\">\n              <h3>{project.name}</h3>\n              <span>{project.subtitle}</span>\n            </div>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectSection;\n","import * as THREE from \"three\";\n\nclass Common {\n  constructor() {\n    this.width = null;\n    this.height = null;\n    this.aspect = this.width / this.height;\n    this.isMobile = false;\n    this.breakpoint = 768;\n\n    this.fboWidth = null;\n    this.fboHeight = null;\n\n    this.resizeFunc = this.resize.bind(this);\n\n    this.time = 0;\n    this.delta = 0;\n  }\n\n  init() {\n    this.pixelRatio = window.devicePixelRatio;\n\n    this.resize();\n\n    this.renderer = new THREE.WebGL1Renderer({\n      alpha: true,\n    });\n\n    this.renderer.autoClear = false;\n    this.renderer.setSize(this.width, this.height);\n    this.renderer.setPixelRatio(this.pixelRatio);\n\n    this.clock = new THREE.Clock();\n    this.clock.start();\n  }\n\n  resize() {\n    this.width = window.innerWidth;\n    this.height = window.innerHeight * 0.8;\n    this.aspect = this.width / this.height;\n\n    if (this.renderer) this.renderer.setSize(this.width, this.height);\n  }\n\n  update() {\n    this.delta = this.clock.getDelta(); // Math.min(0.01, this.clock.getDelta());\n    this.time += this.delta;\n  }\n}\n\nexport default new Common();\n","import * as THREE from \"three\";\nimport Common from \"./Common\";\n\nclass Mouse {\n  constructor() {\n    this.mouseMoved = false;\n    this.coords = new THREE.Vector2();\n    this.coords_old = new THREE.Vector2();\n    this.diff = new THREE.Vector2();\n    this.timer = null;\n    this.count = 0;\n  }\n\n  init() {\n    document.body.addEventListener(\n      \"mousemove\",\n      this.onDocumentMouseMove.bind(this),\n      false\n    );\n    document.body.addEventListener(\n      \"touchstart\",\n      this.onDocumentTouchStart.bind(this),\n      false\n    );\n    document.body.addEventListener(\n      \"touchmove\",\n      this.onDocumentTouchMove.bind(this),\n      false\n    );\n  }\n\n  setCoords(x, y) {\n    if (this.timer) clearTimeout(this.timer);\n    this.coords.set((x / Common.width) * 2 - 1, -(y / Common.height) * 2 + 1);\n    this.mouseMoved = true;\n    this.timer = setTimeout(() => {\n      this.mouseMoved = false;\n    }, 100);\n  }\n  onDocumentMouseMove(event) {\n    this.setCoords(event.pageX, event.pageY);\n  }\n  onDocumentTouchStart(event) {\n    if (event.touches.length === 1) {\n      // event.preventDefault();\n      this.setCoords(event.touches[0].pageX, event.touches[0].pageY);\n    }\n  }\n  onDocumentTouchMove(event) {\n    if (event.touches.length === 1) {\n      // event.preventDefault();\n      this.setCoords(event.touches[0].pageX, event.touches[0].pageY);\n    }\n  }\n\n  update() {\n    this.diff.subVectors(this.coords, this.coords_old);\n    this.coords_old.copy(this.coords);\n\n    if (this.coords_old.x === 0 && this.coords_old.y === 0) this.diff.set(0, 0);\n  }\n}\n\nexport default new Mouse();\n","export default \"attribute vec3 position;\\nuniform vec2 px;\\nuniform vec2 boundarySpace;\\nvarying vec2 uv;\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvoid main(){\\n    vec3 pos = position;\\n    vec2 scale = 1.0 - boundarySpace * 2.0;\\n    pos.xy = pos.xy * scale;\\n    uv = vec2(0.5)+(pos.xy)*0.5;\\n    gl_Position = vec4(pos, 1.0);\\n}\\n\";","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D velocity;\\nuniform float dt;\\nuniform bool isBFECC;\\n// uniform float uvScale;\\nuniform vec2 fboSize;\\nuniform vec2 px;\\nvarying vec2 uv;\\n\\nvoid main(){\\n    vec2 ratio = max(fboSize.x, fboSize.y) / fboSize;\\n\\n    if(isBFECC == false){\\n        vec2 vel = texture2D(velocity, uv).xy;\\n        vec2 uv2 = uv - vel * dt * ratio;\\n        vec2 newVel = texture2D(velocity, uv2).xy;\\n        gl_FragColor = vec4(newVel, 0.0, 0.0);\\n    } else {\\n        vec2 spot_new = uv;\\n        vec2 vel_old = texture2D(velocity, uv).xy;\\n        // back trace\\n        vec2 spot_old = spot_new - vel_old * dt * ratio;\\n        vec2 vel_new1 = texture2D(velocity, spot_old).xy;\\n\\n        // forward trace\\n        vec2 spot_new2 = spot_old + vel_new1 * dt * ratio;\\n        \\n        vec2 error = spot_new2 - spot_new;\\n\\n        vec2 spot_new3 = spot_new - error / 2.0;\\n        vec2 vel_2 = texture2D(velocity, spot_new3).xy;\\n\\n        // back trace 2\\n        vec2 spot_old2 = spot_new3 - vel_2 * dt * ratio;\\n        // gl_FragColor = vec4(spot_old2, 0.0, 0.0);\\n        vec2 newVel2 = texture2D(velocity, spot_old2).xy; \\n        gl_FragColor = vec4(newVel2, 0.0, 0.0);\\n    }\\n}\\n\";","import Common from \"./Common\";\nimport * as THREE from \"three\";\n\nexport default class ShaderPass {\n  constructor(props) {\n    this.props = props;\n    this.uniforms = this.props.material?.uniforms;\n  }\n\n  init() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.Camera();\n\n    if (this.uniforms) {\n      this.material = new THREE.RawShaderMaterial(this.props.material);\n      this.geometry = new THREE.PlaneBufferGeometry(2.0, 2.0);\n      this.plane = new THREE.Mesh(this.geometry, this.material);\n      this.scene.add(this.plane);\n    }\n  }\n\n  update() {\n    Common.renderer.setRenderTarget(this.props.output);\n    Common.renderer.render(this.scene, this.camera);\n    Common.renderer.setRenderTarget(null);\n  }\n}\n","import face_vert from \"./glsl/sim/face.vert\";\nimport line_vert from \"./glsl/sim/line.vert\";\n\nimport advection_frag from \"./glsl/sim/advection.frag\";\nimport ShaderPass from \"./ShaderPass\";\n\nimport * as THREE from \"three\";\n\n\nexport default class Advection extends ShaderPass{\n    constructor(simProps){\n        super({\n            material: {\n                vertexShader: face_vert,\n                fragmentShader: advection_frag,\n                uniforms: {\n                    boundarySpace: {\n                        value: simProps.cellScale\n                    },\n                    px: {\n                        value: simProps.cellScale\n                    },\n                    fboSize: {\n                        value: simProps.fboSize\n                    },\n                    velocity: {\n                        value: simProps.src.texture\n                    },\n                    dt: {\n                        value: simProps.dt\n                    },\n                    isBFECC: {\n                        value: true\n                    }\n                },\n            },\n            output: simProps.dst\n        });\n\n        this.init();\n    }\n\n    init(){\n        super.init();\n        this.createBoundary();\n    }\n\n    createBoundary(){\n        const boundaryG = new THREE.BufferGeometry();\n        const vertices_boundary = new Float32Array([\n            // left\n            -1, -1, 0,\n            -1, 1, 0,\n\n            // top\n            -1, 1, 0,\n            1, 1, 0,\n\n            // right\n            1, 1, 0,\n            1, -1, 0,\n\n            // bottom\n            1, -1, 0,\n            -1, -1, 0\n        ]);\n        boundaryG.setAttribute( 'position', new THREE.BufferAttribute( vertices_boundary, 3 ) );\n\n        const boundaryM = new THREE.RawShaderMaterial({\n            vertexShader: line_vert,\n            fragmentShader: advection_frag,\n            uniforms: this.uniforms\n        });\n\n        this.line = new THREE.LineSegments(boundaryG, boundaryM);\n        this.scene.add(this.line);\n    }\n\n    update({ dt, isBounce, BFECC }){\n\n        this.uniforms.dt.value = dt;\n        this.line.visible = isBounce;\n        this.uniforms.isBFECC.value = BFECC;\n\n        super.update();\n    }\n}","export default \"attribute vec3 position;\\nvarying vec2 uv;\\nuniform vec2 px;\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvoid main(){\\n    vec3 pos = position;\\n    uv = 0.5 + pos.xy * 0.5;\\n    vec2 n = sign(pos.xy);\\n    pos.xy = abs(pos.xy) - px * 1.0;\\n    pos.xy *= n;\\n    gl_Position = vec4(pos, 1.0);\\n}\";","import mouse_vert from \"./glsl/sim/mouse.vert\";\nimport externalForce_frag from \"./glsl/sim/externalForce.frag\";\nimport ShaderPass from \"./ShaderPass\";\nimport Mouse from \"./Mouse\";\n\nimport * as THREE from \"three\";\n\nexport default class ExternalForce extends ShaderPass {\n  constructor(simProps) {\n    super({\n      output: simProps.dst,\n    });\n\n    this.init(simProps);\n  }\n\n  init(simProps) {\n    super.init();\n    const mouseG = new THREE.PlaneBufferGeometry(1, 1);\n\n    const mouseM = new THREE.RawShaderMaterial({\n      vertexShader: mouse_vert,\n      fragmentShader: externalForce_frag,\n      blending: THREE.AdditiveBlending,\n      uniforms: {\n        px: {\n          value: simProps.cellScale,\n        },\n        force: {\n          value: new THREE.Vector2(0.0, 0.0),\n        },\n        center: {\n          value: new THREE.Vector2(0.0, 0.0),\n        },\n        scale: {\n          value: new THREE.Vector2(simProps.cursor_size, simProps.cursor_size),\n        },\n      },\n    });\n\n    this.mouse = new THREE.Mesh(mouseG, mouseM);\n    this.scene.add(this.mouse);\n  }\n\n  update(props) {\n    const forceX = (Mouse.diff.x / 2) * props.mouse_force;\n    const forceY = (Mouse.diff.y / 2) * props.mouse_force;\n\n    const cursorSizeX = props.cursor_size * props.cellScale.x;\n    const cursorSizeY = props.cursor_size * props.cellScale.y;\n\n    const centerX = Mouse.coords.x;\n    const centerY = Mouse.coords.y;\n\n    const uniforms = this.mouse.material.uniforms;\n\n    uniforms.force.value.set(forceX, forceY);\n    uniforms.center.value.set(centerX, centerY);\n    uniforms.scale.value.set(props.cursor_size, props.cursor_size);\n\n    super.update();\n  }\n}\n","export default \"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\nuniform vec2 center;\\nuniform vec2 scale;\\nuniform vec2 px;\\nvarying vec2 vUv;\\n\\nvoid main(){\\n    vec2 pos = position.xy * scale * 2.0 * px + center;\\n    vUv = uv;\\n    gl_Position = vec4(pos, 0.0, 1.0);\\n}\\n\";","export default \"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec2 force;\\nuniform vec2 center;\\nuniform vec2 scale;\\nuniform vec2 px;\\nvarying vec2 vUv;\\n\\nvoid main(){\\n    vec2 circle = (vUv - 0.5) * 2.0;\\n    float d = 1.0-min(length(circle), 1.0);\\n    d *= d;\\n    gl_FragColor = vec4(force * d, 0, 1);\\n}\\n\";","import face_vert from \"./glsl/sim/face.vert\";\nimport viscous_frag from \"./glsl/sim/viscous.frag\";\n\nimport ShaderPass from \"./ShaderPass\";\n\nexport default class Viscous extends ShaderPass {\n  constructor(simProps) {\n    super({\n      material: {\n        vertexShader: face_vert,\n        fragmentShader: viscous_frag,\n        uniforms: {\n          boundarySpace: {\n            value: simProps.boundarySpace,\n          },\n          velocity: {\n            value: simProps.src.texture,\n          },\n          velocity_new: {\n            value: simProps.dst_.texture,\n          },\n          v: {\n            value: simProps.viscous,\n          },\n          px: {\n            value: simProps.cellScale,\n          },\n          dt: {\n            value: simProps.dt,\n          },\n        },\n      },\n\n      output: simProps.dst,\n\n      output0: simProps.dst_,\n      output1: simProps.dst,\n    });\n\n    this.init();\n  }\n\n  update({ viscous, iterations, dt }) {\n    let fbo_in, fbo_out;\n    this.uniforms.v.value = viscous;\n    for (var i = 0; i < iterations; i++) {\n      if (i % 2 === 0) {\n        fbo_in = this.props.output0;\n        fbo_out = this.props.output1;\n      } else {\n        fbo_in = this.props.output1;\n        fbo_out = this.props.output0;\n      }\n\n      this.uniforms.velocity_new.value = fbo_in.texture;\n      this.props.output = fbo_out;\n      this.uniforms.dt.value = dt;\n\n      super.update();\n    }\n\n    return fbo_out;\n  }\n}\n","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D velocity;\\nuniform sampler2D velocity_new;\\nuniform float v;\\nuniform vec2 px;\\nuniform float dt;\\n\\nvarying vec2 uv;\\n\\nvoid main(){\\n    // poisson equation\\n    vec2 old = texture2D(velocity, uv).xy;\\n    vec2 new0 = texture2D(velocity_new, uv + vec2(px.x * 2.0, 0)).xy;\\n    vec2 new1 = texture2D(velocity_new, uv - vec2(px.x * 2.0, 0)).xy;\\n    vec2 new2 = texture2D(velocity_new, uv + vec2(0, px.y * 2.0)).xy;\\n    vec2 new3 = texture2D(velocity_new, uv - vec2(0, px.y * 2.0)).xy;\\n\\n    vec2 new = 4.0 * old + v * dt * (new0 + new1 + new2 + new3);\\n    new /= 4.0 * (1.0 + v * dt);\\n    \\n    gl_FragColor = vec4(new, 0.0, 0.0);\\n}\\n\";","import face_vert from \"./glsl/sim/face.vert\";\nimport divergence_frag from \"./glsl/sim/divergence.frag\";\n\nimport ShaderPass from \"./ShaderPass\";\n\nexport default class Divergence extends ShaderPass{\n    constructor(simProps){\n        super({\n            material: {\n                vertexShader: face_vert,\n                fragmentShader: divergence_frag,\n                uniforms: {\n                    boundarySpace: {\n                        value: simProps.boundarySpace\n                    },\n                    velocity: {\n                        value: simProps.src.texture\n                    },\n                    px: {\n                        value: simProps.cellScale\n                    },\n                    dt: {\n                        value: simProps.dt\n                    }\n                }\n            },\n            output: simProps.dst\n        })\n\n        this.init();\n    }\n\n    update({ vel }){\n        this.uniforms.velocity.value = vel.texture;\n        super.update();\n    }\n}","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D velocity;\\nuniform float dt;\\nuniform vec2 px;\\nvarying vec2 uv;\\n\\nvoid main(){\\n    float x0 = texture2D(velocity, uv-vec2(px.x, 0)).x;\\n    float x1 = texture2D(velocity, uv+vec2(px.x, 0)).x;\\n    float y0 = texture2D(velocity, uv-vec2(0, px.y)).y;\\n    float y1 = texture2D(velocity, uv+vec2(0, px.y)).y;\\n    float divergence = (x1-x0 + y1-y0) / 2.0;\\n\\n    gl_FragColor = vec4(divergence / dt);\\n}\\n\";","import face_vert from \"./glsl/sim/face.vert\";\nimport poisson_frag from \"./glsl/sim/poisson.frag\";\n\nimport ShaderPass from \"./ShaderPass\";\n\nexport default class Divergence extends ShaderPass{\n    constructor(simProps){\n        super({\n            material: {\n                vertexShader: face_vert,\n                fragmentShader: poisson_frag,\n                uniforms: {\n                    boundarySpace: {\n                        value: simProps.boundarySpace\n                    },\n                    pressure: {\n                        value: simProps.dst_.texture\n                    },\n                    divergence: {\n                        value: simProps.src.texture\n                    },\n                    px: {\n                        value: simProps.cellScale\n                    }\n                },\n            },\n            output: simProps.dst,\n\n            output0: simProps.dst_,\n            output1: simProps.dst\n        });\n\n        this.init();\n    }\n\n    update({iterations}){\n        let p_in, p_out;\n\n        for(var i = 0; i < iterations; i++) {\n            if(i % 2 == 0){\n                p_in = this.props.output0;\n                p_out = this.props.output1;\n            } else {\n                p_in = this.props.output1;\n                p_out = this.props.output0;\n            }\n\n            this.uniforms.pressure.value = p_in.texture;\n            this.props.output = p_out;\n            super.update();\n        }\n\n        return p_out;\n    }\n}","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D pressure;\\nuniform sampler2D divergence;\\nuniform vec2 px;\\nvarying vec2 uv;\\n\\nvoid main(){    \\n    // poisson equation\\n    float p0 = texture2D(pressure, uv+vec2(px.x * 2.0,  0)).r;\\n    float p1 = texture2D(pressure, uv-vec2(px.x * 2.0, 0)).r;\\n    float p2 = texture2D(pressure, uv+vec2(0, px.y * 2.0 )).r;\\n    float p3 = texture2D(pressure, uv-vec2(0, px.y * 2.0 )).r;\\n    float div = texture2D(divergence, uv).r;\\n    \\n    float newP = (p0 + p1 + p2 + p3) / 4.0 - div;\\n    gl_FragColor = vec4(newP);\\n}\\n\";","import face_vert from \"./glsl/sim/face.vert\";\nimport pressure_frag from \"./glsl/sim/pressure.frag\";\nimport ShaderPass from \"./ShaderPass\";\n\nexport default class Divergence extends ShaderPass{\n    constructor(simProps){\n        super({\n            material: {\n                vertexShader: face_vert,\n                fragmentShader: pressure_frag,\n                uniforms: {\n                    boundarySpace: {\n                        value: simProps.boundarySpace\n                    },\n                    pressure: {\n                        value: simProps.src_p.texture\n                    },\n                    velocity: {\n                        value: simProps.src_v.texture\n                    },\n                    px: {\n                        value: simProps.cellScale\n                    },\n                    dt: {\n                        value: simProps.dt\n                    }\n                }\n            },\n            output: simProps.dst\n        });\n\n        this.init();\n    }\n\n    update({vel, pressure}){\n        this.uniforms.velocity.value = vel.texture;\n        this.uniforms.pressure.value = pressure.texture;\n        super.update();\n    }\n    \n}","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D pressure;\\nuniform sampler2D velocity;\\nuniform vec2 px;\\nuniform float dt;\\nvarying vec2 uv;\\n\\nvoid main(){\\n    float step = 1.0;\\n\\n    float p0 = texture2D(pressure, uv+vec2(px.x * step, 0)).r;\\n    float p1 = texture2D(pressure, uv-vec2(px.x * step, 0)).r;\\n    float p2 = texture2D(pressure, uv+vec2(0, px.y * step)).r;\\n    float p3 = texture2D(pressure, uv-vec2(0, px.y * step)).r;\\n\\n    vec2 v = texture2D(velocity, uv).xy;\\n    vec2 gradP = vec2(p0 - p1, p2 - p3) * 0.5;\\n    v = v - gradP * dt;\\n    gl_FragColor = vec4(v, 0.0, 1.0);\\n}\\n\";","import Mouse from \"./Mouse\";\nimport Common from \"./Common\";\nimport * as THREE from \"three\";\nimport Controls from \"./Controls\";\n\nimport Advection from \"./Advection\";\nimport ExternalForce from \"./ExternalForce\";\nimport Viscous from \"./Viscous\";\nimport Divergence from \"./Divergence\";\nimport Poisson from \"./Poisson\";\nimport Pressure from \"./Pressure\";\n\nexport default class Simulation {\n  constructor(props) {\n    this.props = props;\n\n    this.fbos = {\n      vel_0: null,\n      vel_1: null,\n\n      // for calc next velocity with viscous\n      vel_viscous0: null,\n      vel_viscous1: null,\n\n      // for calc pressure\n      div: null,\n\n      // for calc poisson equation\n      pressure_0: null,\n      pressure_1: null,\n    };\n\n    this.options = {\n      iterations_poisson: 32,\n      iterations_viscous: 32,\n      mouse_force: 16,\n      resolution: 0.5,\n      cursor_size: 80,\n      viscous: 10,\n      isBounce: false,\n      dt: 0.012,\n      isViscous: false,\n      BFECC: false,\n    };\n\n    // const controls = new Controls(this.options);\n\n    this.fboSize = new THREE.Vector2();\n    this.cellScale = new THREE.Vector2();\n    this.boundarySpace = new THREE.Vector2();\n\n    this.init();\n  }\n\n  init() {\n    this.calcSize();\n    this.createAllFBO();\n    this.createShaderPass();\n  }\n\n  createAllFBO() {\n    const type = /(iPad|iPhone|iPod)/g.test(navigator.userAgent)\n      ? THREE.HalfFloatType\n      : THREE.FloatType;\n\n    for (let key in this.fbos) {\n      this.fbos[key] = new THREE.WebGLRenderTarget(\n        this.fboSize.x,\n        this.fboSize.y,\n        {\n          type: type,\n        }\n      );\n    }\n  }\n\n  createShaderPass() {\n    this.advection = new Advection({\n      cellScale: this.cellScale,\n      fboSize: this.fboSize,\n      dt: this.options.dt,\n      src: this.fbos.vel_0,\n      dst: this.fbos.vel_1,\n    });\n\n    this.externalForce = new ExternalForce({\n      cellScale: this.cellScale,\n      cursor_size: this.options.cursor_size,\n      dst: this.fbos.vel_1,\n    });\n\n    this.viscous = new Viscous({\n      cellScale: this.cellScale,\n      boundarySpace: this.boundarySpace,\n      viscous: this.options.viscous,\n      src: this.fbos.vel_1,\n      dst: this.fbos.vel_viscous1,\n      dst_: this.fbos.vel_viscous0,\n      dt: this.options.dt,\n    });\n\n    this.divergence = new Divergence({\n      cellScale: this.cellScale,\n      boundarySpace: this.boundarySpace,\n      src: this.fbos.vel_viscous0,\n      dst: this.fbos.div,\n      dt: this.options.dt,\n    });\n\n    this.poisson = new Poisson({\n      cellScale: this.cellScale,\n      boundarySpace: this.boundarySpace,\n      src: this.fbos.div,\n      dst: this.fbos.pressure_1,\n      dst_: this.fbos.pressure_0,\n    });\n\n    this.pressure = new Pressure({\n      cellScale: this.cellScale,\n      boundarySpace: this.boundarySpace,\n      src_p: this.fbos.pressure_0,\n      src_v: this.fbos.vel_viscous0,\n      dst: this.fbos.vel_0,\n      dt: this.options.dt,\n    });\n  }\n\n  calcSize() {\n    const width = Math.round(this.options.resolution * Common.width);\n    const height = Math.round(this.options.resolution * Common.height);\n\n    const px_x = 1.0 / width;\n    const px_y = 1.0 / height;\n\n    this.cellScale.set(px_x, px_y);\n    this.fboSize.set(width, height);\n  }\n\n  resize() {\n    this.calcSize();\n\n    for (let key in this.fbos) {\n      this.fbos[key].setSize(this.fboSize.x, this.fboSize.y);\n    }\n  }\n\n  update() {\n    if (this.options.isBounce) {\n      this.boundarySpace.set(0, 0);\n    } else {\n      this.boundarySpace.copy(this.cellScale);\n    }\n\n    this.advection.update(this.options);\n\n    this.externalForce.update({\n      cursor_size: this.options.cursor_size,\n      mouse_force: this.options.mouse_force,\n      cellScale: this.cellScale,\n    });\n\n    let vel = this.fbos.vel_1;\n\n    if (this.options.isViscous) {\n      vel = this.viscous.update({\n        viscous: this.options.viscous,\n        iterations: this.options.iterations_viscous,\n        dt: this.options.dt,\n      });\n    }\n\n    this.divergence.update({ vel });\n\n    const pressure = this.poisson.update({\n      iterations: this.options.iterations_poisson,\n    });\n\n    this.pressure.update({ vel, pressure });\n  }\n}\n","import Common from \"./Common\";\nimport * as THREE from \"three\";\n\nimport Simulation from \"./Simulation\";\nimport face_vert from \"./glsl/sim/face.vert\";\nimport color_frag from \"./glsl/sim/color.frag\";\nimport grid_frag from \"./glsl/sim/grid.frag\";\n\nexport default class Output {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.simulation = new Simulation();\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.Camera();\n\n    this.output = new THREE.Mesh(\n      new THREE.PlaneBufferGeometry(2, 2),\n      new THREE.RawShaderMaterial({\n        transparent: true,\n        vertexShader: face_vert,\n        fragmentShader: grid_frag,\n        extensions: {\n          derivatives: true,\n        },\n        uniforms: {\n          velocity: {\n            value: this.simulation.fbos.vel_0.texture,\n          },\n          boundarySpace: {\n            value: new THREE.Vector2(),\n          },\n          resolution: {\n            value: new THREE.Vector2(Common.width, Common.height),\n          },\n          darkTheme: {\n            value: 0.0,\n          },\n        },\n      })\n    );\n\n    this.scene.add(this.output);\n  }\n  addScene(mesh) {\n    this.scene.add(mesh);\n  }\n\n  resize() {\n    this.output.material.uniforms.resolution.value.set(\n      Common.width,\n      Common.height\n    );\n    this.simulation.resize();\n  }\n\n  render() {\n    Common.renderer.setRenderTarget(null);\n    Common.renderer.render(this.scene, this.camera);\n  }\n\n  update() {\n    this.simulation.update();\n    this.render();\n  }\n}\n","export default \"precision highp float;\\n#define GLSLIFY 1\\nuniform sampler2D velocity;\\nuniform vec2 resolution;\\nuniform float darkTheme;\\nvarying vec2 uv;\\n\\n// Pi, the ratio of a circle's circumference to its diameter.\\nconst float M_PI = 3.14159265358979323846264338327950288;\\n// M_PI / 3\\nconst float M_PI_3 = 2.0943951024;\\n\\nconst float margin = 2.0;\\n\\nfloat sdCircle(in vec2 p, in float r) \\n{\\n    return length(p) - r;\\n}\\n\\nfloat circle(in vec2 p, in float strength)\\n{\\n    float baseRadius = 0.01 + pow(strength, 1.5) * 0.15;\\n    float minRadius = 0.06; // max(fwidth(length(p)), 0.04);\\n    float radius = max(baseRadius, minRadius);\\n    float d = sdCircle(p - vec2(0.5, 0.5), radius);\\n\\t// return (1.0 - smoothstep(-fwidth(d), fwidth(d), d)) * (baseRadius / radius);\\n\\treturn (1.0 - smoothstep(-0.01, 0.01, d)) * (baseRadius / radius);\\n}\\n\\nvec2 rotate(vec2 v, float a) {\\n\\tfloat s = sin(a);\\n\\tfloat c = cos(a);\\n\\tmat2 m = mat2(c, s, -s, c);\\n\\treturn m * v;\\n}\\n\\nvoid main(){\\n    // fluid data\\n    vec2 vel = texture2D(velocity, uv).xy;\\n    float len = length(vel);\\n\\n    // ====================================\\n\\n    // grid size\\n    vec2 n = resolution.xy * 0.025;\\n    vec2 uv0 = vec2(fract(uv.x * n.x), fract(uv.y * n.y));\\n\\n    // grid dots\\n    vec2 offset = vel * 0.006 * n;\\n    float strength = length(offset) * 10.0;\\n\\n    vec2 uvGridIndex = ceil(uv * n) / n;\\n    uvGridIndex *= step(uvGridIndex, vec2((n-margin)/n));\\n    uvGridIndex *= 1.0 - step(uvGridIndex, vec2((margin + 0.1)/n));\\n    float marginMask = 1.0 - step(min(uvGridIndex.x, uvGridIndex.y), 0.0);\\n    \\n    float r = circle(\\n        uv0 + offset,\\n        strength\\n    );\\n    float g = circle(\\n        uv0 + rotate(offset, M_PI_3),\\n        strength\\n    );\\n    float b = circle(\\n        uv0 + rotate(offset, -M_PI_3),\\n        strength\\n    );\\n    vec3 color = sqrt(clamp(vec3(r,g,b), 0.0, 1.0));\\n    color = darkTheme == 1.0 ? color + 0.1 : 1.0 - color;\\n\\n    gl_FragColor = vec4(color, marginMask * clamp(r+g+b, 0.0, 0.5));\\n}\\n\";","import Common from \"./Common\";\nimport Output from \"./Output\";\nimport Mouse from \"./Mouse\";\n\nexport default class Webgl {\n  constructor(props) {\n    this.props = props;\n\n    Common.init();\n    Mouse.init();\n\n    this.init();\n    this.loop();\n\n    window.addEventListener(\"resize\", this.resize.bind(this));\n  }\n\n  init() {\n    this.props.$wrapper.prepend(Common.renderer.domElement);\n    this.output = new Output();\n  }\n\n  resize() {\n    Common.resize();\n    this.output.resize();\n  }\n\n  render() {\n    Mouse.update();\n    Common.update();\n    this.output.update();\n  }\n\n  loop() {\n    this.render();\n    requestAnimationFrame(this.loop.bind(this));\n  }\n\n  setDarkTheme(darkTheme) {\n    if (this.output.output.material === undefined) return;\n    this.output.output.material.uniforms.darkTheme.value = darkTheme;\n    this.output.output.material.needsUpdate = true;\n  }\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useColorTheme } from \"../DarkModeToggle/useColorTheme\";\nimport WebGL from \"./modules/WebGL\";\nimport \"./FluidSim.scss\";\n\nlet container, webglMng;\n\nexport const FluidSim = () => {\n  const { isDark } = useColorTheme();\n  const canvasRef = useRef();\n\n  const [didInit, setDidInit] = useState(false);\n\n  useEffect(() => {\n    if (!didInit) {\n      initScene();\n      setDidInit(true);\n    }\n  }, [didInit, initScene]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  function initScene() {\n    container = canvasRef.current;\n    webglMng = new WebGL({\n      $wrapper: container,\n    });\n  }\n\n  useEffect(() => {\n    webglMng.setDarkTheme(isDark ? 1 : 0);\n  }, [isDark]);\n\n  return <div className=\"FluidSim\" ref={canvasRef}></div>;\n};\n\nexport default FluidSim;\n","import React, { useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\n\nimport IntroSection from \"./IntroSection/IntroSection\";\nimport ProjectSection from \"./ProjectSection/ProjectSection\";\nimport FluidSim from \"../components/FluidSim/FluidSim\";\n\nconst Homepage = ({ scrollTop, setScrollTop, ...props }) => {\n  // Scroll restoration\n  useEffect(() => {\n    window.scrollTo(0, scrollTop);\n  });\n\n  const onExit = (definition) => {\n    if (definition.opacity === 0) {\n      const scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      setScrollTop(scrollTop);\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"Page\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      onAnimationComplete={onExit}\n      transition={{ duration: 0.2 }}\n    >\n      <FluidSim />\n      <IntroSection />\n      <ProjectSection />\n    </motion.div>\n  );\n};\n\nexport default Homepage;\n","import React, { useState } from \"react\";\nimport { AnimatePresence } from \"framer-motion\";\nimport { Route, Switch, useLocation } from \"react-router-dom\";\nimport posthog from \"posthog-js\";\n\nimport FloatingLogo from \"./components/FloatingLogo/FloatingLogo\";\nimport SocialLinks from \"./components/SocialLinks/SocialLinks\";\n\nimport projectData from \"./projects/projectData.js\";\n\nimport Homepage from \"./Homepage/Homepage\";\n\nposthog.init(\"phc_Ud6pwqtRXUUeeC5zAjDoPZ7MYE41EdRWPMY2gdni1Yt\", {\n  api_host: \"https://app.posthog.com\",\n});\n\nconst App = () => {\n  const location = useLocation();\n  if (window.history.scrollRestoration)\n    window.history.scrollRestoration = \"manual\";\n\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const projectPaths = projectData.map((project) => {\n    return (\n      <Route path={`/projects/${project.slug}`} key={project.slug}>\n        <project.component />\n      </Route>\n    );\n  });\n\n  return (\n    <div>\n      <FloatingLogo />\n      <SocialLinks />\n      <AnimatePresence exitBeforeEnter>\n        <Switch location={location} key={location.pathname}>\n          <Route exact path=\"/\">\n            <Homepage scrollTop={scrollTop} setScrollTop={setScrollTop} />\n          </Route>\n          {projectPaths}\n        </Switch>\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Router basename={process.env.PUBLIC_URL}>\n    <App />\n  </Router>,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}